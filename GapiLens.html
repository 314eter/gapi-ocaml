<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="doc/style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="GapiJson.html">
<link rel="next" href="GapiCalendarV3Model.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="GapiCore" rel="Chapter" href="GapiCore.html">
<link title="GapiCurl" rel="Chapter" href="GapiCurl.html">
<link title="GapiPipe" rel="Chapter" href="GapiPipe.html">
<link title="GapiConfig" rel="Chapter" href="GapiConfig.html">
<link title="GapiConversation" rel="Chapter" href="GapiConversation.html">
<link title="GapiAuthResponse" rel="Chapter" href="GapiAuthResponse.html">
<link title="GapiClientLogin" rel="Chapter" href="GapiClientLogin.html">
<link title="GapiOAuth1" rel="Chapter" href="GapiOAuth1.html">
<link title="GapiOAuth2" rel="Chapter" href="GapiOAuth2.html">
<link title="GapiAuth" rel="Chapter" href="GapiAuth.html">
<link title="GapiRequest" rel="Chapter" href="GapiRequest.html">
<link title="GapiMonad" rel="Chapter" href="GapiMonad.html">
<link title="GapiError" rel="Chapter" href="GapiError.html">
<link title="GapiService" rel="Chapter" href="GapiService.html">
<link title="GapiDate" rel="Chapter" href="GapiDate.html">
<link title="GapiJson" rel="Chapter" href="GapiJson.html">
<link title="GapiLens" rel="Chapter" href="GapiLens.html">
<link title="GapiCalendarV3Model" rel="Chapter" href="GapiCalendarV3Model.html">
<link title="GapiCalendarV3Service" rel="Chapter" href="GapiCalendarV3Service.html">
<link title="GapiPlusV1Model" rel="Chapter" href="GapiPlusV1Model.html">
<link title="GapiPlusV1Service" rel="Chapter" href="GapiPlusV1Service.html">
<link title="GapiTasksV1Model" rel="Chapter" href="GapiTasksV1Model.html">
<link title="GapiTasksV1Service" rel="Chapter" href="GapiTasksV1Service.html">
<link title="GapiDiscoveryV1Model" rel="Chapter" href="GapiDiscoveryV1Model.html">
<link title="GapiDiscoveryV1Service" rel="Chapter" href="GapiDiscoveryV1Service.html">
<link title="GapiUrlshortenerV1Model" rel="Chapter" href="GapiUrlshortenerV1Model.html">
<link title="GapiUrlshortenerV1Service" rel="Chapter" href="GapiUrlshortenerV1Service.html">
<link title="GapiOauth2V2Model" rel="Chapter" href="GapiOauth2V2Model.html">
<link title="GapiOauth2V2Service" rel="Chapter" href="GapiOauth2V2Service.html">
<link title="GapiCustomsearchV1Model" rel="Chapter" href="GapiCustomsearchV1Model.html">
<link title="GapiCustomsearchV1Service" rel="Chapter" href="GapiCustomsearchV1Service.html">
<link title="GapiAnalyticsV3Model" rel="Chapter" href="GapiAnalyticsV3Model.html">
<link title="GapiAnalyticsV3Service" rel="Chapter" href="GapiAnalyticsV3Service.html">
<link title="GapiPagespeedonlineV1Model" rel="Chapter" href="GapiPagespeedonlineV1Model.html">
<link title="GapiPagespeedonlineV1Service" rel="Chapter" href="GapiPagespeedonlineV1Service.html">
<link title="GapiBloggerV2Model" rel="Chapter" href="GapiBloggerV2Model.html">
<link title="GapiBloggerV2Service" rel="Chapter" href="GapiBloggerV2Service.html">
<link title="GapiSiteVerificationV1Model" rel="Chapter" href="GapiSiteVerificationV1Model.html">
<link title="GapiSiteVerificationV1Service" rel="Chapter" href="GapiSiteVerificationV1Service.html">
<link title="GapiAdsenseV1_1Model" rel="Chapter" href="GapiAdsenseV1_1Model.html">
<link title="GapiAdsenseV1_1Service" rel="Chapter" href="GapiAdsenseV1_1Service.html">
<link title="GdataCore" rel="Chapter" href="GdataCore.html">
<link title="GdataBatch" rel="Chapter" href="GdataBatch.html">
<link title="GdataAtom" rel="Chapter" href="GdataAtom.html">
<link title="GdataACL" rel="Chapter" href="GdataACL.html">
<link title="GdataCalendar" rel="Chapter" href="GdataCalendar.html">
<link title="GdataComments" rel="Chapter" href="GdataComments.html">
<link title="GdataCalendarEvent" rel="Chapter" href="GdataCalendarEvent.html">
<link title="GdataService" rel="Chapter" href="GdataService.html">
<link title="GdataCalendarService" rel="Chapter" href="GdataCalendarService.html"><link title="Combinators" rel="Section" href="#3_Combinators">
<link title="State monad integration" rel="Section" href="#3_Statemonadintegration">
<link title="Stock lenses" rel="Section" href="#3_Stocklenses">
<link title="List combinators" rel="Section" href="#3_Listcombinators">
<link title="Isomorphism" rel="Section" href="#3_Isomorphism">
<title>GapiLens</title>
</head>
<body>
<div class="navbar"><a href="GapiJson.html">Previous</a>
&nbsp;<a href="index.html">Up</a>
&nbsp;<a href="GapiCalendarV3Model.html">Next</a>
</div>
<center><h1>Module <a href="type_GapiLens.html">GapiLens</a></h1></center>
<br>
<pre><span class="keyword">module</span> GapiLens: <code class="code">sig</code> <a href="GapiLens.html">..</a> <code class="code">end</code></pre>Functional lenses.
<p>

  Based on F# implementation in <a href="https://github.com/fsharp/fsharpx">FSharpx</a>
  (see <a href="https://github.com/fsharp/fsharpx/blob/master/src/FSharpx.Core/Lens.fs">src/FSharpx.Core/Lens.fs</a> for the original implementation)<br>
<b>See also</b><ul><li><a href="http://bugsquash.blogspot.com/2011/11/lenses-in-f.html">Lenses in F#</a></li>
<li><a href="http://stackoverflow.com/questions/8179485/updating-nested-immutable-data-structures">Stackoverflow question about Updating nested immutable data structures</a></li>
<li><a href="http://stackoverflow.com/questions/5767129/lenses-fclabels-data-accessor-which-library-for-structure-access-and-mutatio">Haskell libraries for structure access and mutation</a></li>
<li><a href="http://www.youtube.com/watch?v=efv0SQNde5Q">Functional lenses for Scala by Edward Kmett on YouTube</a></li>
<li><a href="http://patternsinfp.wordpress.com/2011/01/31/lenses-are-the-coalgebras-for-the-costate-comonad/">Lenses are the coalgebras for the costate comonad by Jeremy Gibbons</a></li>
</ul>
<hr width="100%">
<br><code><span id="TYPEt"><span class="keyword">type</span> <code class="type">('a, 'b)</code> t</span> = {</code><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code>get&nbsp;: <code class="type">'a -> 'b</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" >Functional getter</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code>set&nbsp;: <code class="type">'b -> 'a -> 'a</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" >Functional setter</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
}

<div class="info">
Lens type definition<br>
</div>

<pre><span id="VALmodify"><span class="keyword">val</span> modify</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('b -> 'b) -> 'a -> 'a</code></pre><div class="info">
Updates a value through a lens<br>
</div>
<br>
<span id="3_Combinators"><h3>Combinators</h3></span><br>
<pre><span id="VALcompose"><span class="keyword">val</span> compose</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('c, 'a) <a href="GapiLens.html#TYPEt">t</a> -> ('c, 'b) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Sequentially composes two lenses<br>
</div>
<pre><span id="VALpair"><span class="keyword">val</span> pair</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('c, 'd) <a href="GapiLens.html#TYPEt">t</a> -> ('a * 'c, 'b * 'd) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Pairs two lenses<br>
</div>
<pre><span id="VALcond"><span class="keyword">val</span> cond</span> : <code class="type">('a -> bool) -><br>       ('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('a, 'b) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Selects a lens checking a predicate.
<p>

  <code class="code">cond pred lensTrue lensFalse</code>: <code class="code">pred</code> is applied to source. If <code class="code">true</code>, <code class="code">lensTrue</code> is selected. If <code class="code">false</code>, <code class="code">lensFalse</code> is selected.<br>
</div>
<br>
<span id="3_Statemonadintegration"><h3>State monad integration</h3></span><br>
<pre><span id="VALget_state"><span class="keyword">val</span> get_state</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> 'a -> 'b * 'a</code></pre><div class="info">
Gets a value from the state monad.<br>
</div>
<pre><span id="VALput_state"><span class="keyword">val</span> put_state</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> 'b -> 'a -> unit * 'a</code></pre><div class="info">
Puts a value in the state monad.<br>
</div>
<pre><span id="VALmodify_state"><span class="keyword">val</span> modify_state</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('b -> 'b) -> 'a -> unit * 'a</code></pre><div class="info">
Modifies a value in the state monad.<br>
</div>
<br>
<span id="3_Stocklenses"><h3>Stock lenses</h3></span><br>
<pre><span id="VALignore"><span class="keyword">val</span> ignore</span> : <code class="type">('a, unit) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Trivial lens<br>
</div>
<pre><span id="VALid"><span class="keyword">val</span> id</span> : <code class="type">('a, 'a) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Identity lens<br>
</div>
<pre><span id="VALfirst"><span class="keyword">val</span> first</span> : <code class="type">('a * 'b, 'a) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Gets/sets the first element in a pair<br>
</div>
<pre><span id="VALsecond"><span class="keyword">val</span> second</span> : <code class="type">('a * 'b, 'b) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Gets/sets the second element in a pair<br>
</div>
<pre><span id="VALhead"><span class="keyword">val</span> head</span> : <code class="type">('a list, 'a) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Gets/sets the first element in a list<br>
</div>
<pre><span id="VALtail"><span class="keyword">val</span> tail</span> : <code class="type">('a list, 'a list) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Gets/sets the tail of a list<br>
</div>
<pre><span id="VALfor_hash"><span class="keyword">val</span> for_hash</span> : <code class="type">'a -> (('a, 'b) Hashtbl.t, 'b option) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Lens for a particular key in a hashtable<br>
</div>
<pre><span id="VALfor_assoc"><span class="keyword">val</span> for_assoc</span> : <code class="type">'a -> (('a * 'b) list, 'b option) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Lens for a particular key in an associative list<br>
</div>
<pre><span id="VALfor_array"><span class="keyword">val</span> for_array</span> : <code class="type">int -> ('a array, 'a) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Lens for a particular position in an array<br>
</div>
<pre><span id="VALfor_list"><span class="keyword">val</span> for_list</span> : <code class="type">int -> ('a list, 'a) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Lens for a particular position in a list<br>
</div>
<pre><span id="VALoption_get"><span class="keyword">val</span> option_get</span> : <code class="type">('a option, 'a) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Lens for extracting the value from an option type (same as Option.get)<br>
</div>
<br>
<span id="3_Listcombinators"><h3>List combinators</h3></span><br>
<pre><span id="VALlist_map"><span class="keyword">val</span> list_map</span> : <code class="type">('a, 'b) <a href="GapiLens.html#TYPEt">t</a> -> ('a list, 'b list) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Creates a lens that maps the given lens in a list<br>
</div>
<br>
<span id="3_Isomorphism"><h3>Isomorphism</h3></span><br>
<pre><span id="VALxmap"><span class="keyword">val</span> xmap</span> : <code class="type">('a -> 'b) -> ('b -> 'a) -> ('c, 'a) <a href="GapiLens.html#TYPEt">t</a> -> ('c, 'b) <a href="GapiLens.html#TYPEt">t</a></code></pre><div class="info">
Applies an isomorphism to the value viewed through a lens<br>
</div>
<pre><span class="keyword">module</span> <a href="GapiLens.Infix.html">Infix</a>: <code class="code">sig</code> <a href="GapiLens.Infix.html">..</a> <code class="code">end</code></pre><div class="info">
Infix operators
</div>
<pre><span class="keyword">module</span> <a href="GapiLens.StateInfix.html">StateInfix</a>: <code class="code">sig</code> <a href="GapiLens.StateInfix.html">..</a> <code class="code">end</code></pre><div class="info">
Infix operators for the state monad
</div>
</body></html>